(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),s=n.n(c),o=n(1),i=function(e){var t=e.body,n=e.onSubmit;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"d-flex h-100 justify-content-center align-items-center",children:Object(o.jsx)("div",{className:"card mt-3 col-12 col-sm-10 col-md-8 col-lg-4",children:Object(o.jsx)("div",{className:"card-body mt-3",children:Object(o.jsx)("form",{onSubmit:n,children:t()})})})})})},u=n(12),l=function(e,t,n){var a=Object(r.useState)(n||""),c=Object(u.a)(a,2),s=c[0],o=c[1];return{type:e,value:s,placeholder:t,onSubmit:function(){o("")},onChange:function(e){o(e.target.value)}}},d=n(7),j=n(5),b=n.n(j),m=n(10),p=n(26),f=n.n(p),x=function(e){var t=Object(r.useState)(e),n=Object(u.a)(t,1)[0],a=y().user,c=function(){return a?{headers:{Authorization:"bearer ".concat(a.token)}}:{}};return{getAll:function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(n,c());case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),get:function(){var e=Object(m.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(n,"/").concat(t),c());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(m.a)(b.a.mark((function e(t){var r,a,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",e.next=3,f.a.post(n+r,t,c());case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(m.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(n,"/").concat(t),c());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(b.a.mark((function e(t,r,a){var s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a||n,e.next=3,f.a.put("".concat(s,"/").concat(t),r,c());case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}},h={notification:"",newNotification:function(){}},O=a.a.createContext(h);function v(){return Object(r.useContext)(O)}var g=function(e){var t=e.children,n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],s=a[1];return Object(o.jsx)(O.Provider,{value:{notification:c,newNotification:function(e){var t=""===c;s(e),t&&setTimeout((function(){return s("")}),5e3)}},children:t})},w={user:null,login:function(){},register:function(){},updateUser:function(){},logout:function(){},fetchLocalStorageForUser:function(){},updateUserDetails:function(){}},N=a.a.createContext(w);function y(){return Object(r.useContext)(N)}var k=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(u.a)(n,2),c=a[0],s=a[1],i=x("/api/users"),l=v().newNotification;Object(r.useEffect)((function(){null===c&&g()}),[]);var j=function(e){w(e),s(e)},p=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.create(t,"/login");case 3:n=e.sent,w(n),s(n),l(""),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Invalid login credentials",e.t0.response.data),l(e.t0.response.data.errorMsg);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.create(t,"/register");case 3:(n=e.sent)&&(w(n),s(n)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error creating new user:",e.t0.response.data),l(e.t0.response.data.errorMsg);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c||!c.id){e.next=6;break}return e.next=4,i.update(c.id,t);case 4:n=e.sent,j(Object(d.a)(Object(d.a)({},c),{},{name:n.name,email:n.email}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error updating user details",e.t0.response.data),l(e.t0.response.data.errorMsg);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("activeUser"),s(null);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.localStorage.getItem("activeUser"))&&(n=JSON.parse(t),s(n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){window.localStorage.setItem("activeUser",JSON.stringify(e)),console.log("set token",e.token)};return Object(o.jsx)(N.Provider,{value:{user:c,login:p,register:f,updateUser:j,logout:O,fetchLocalStorageForUser:g,updateUserDetails:h},children:t})},S=n(28),F=function(e){var t=e.inputField,n=e.label,r=e.id,a=e.requiredField,c=void 0===a||a,s=e.defaultValue;return Object(o.jsxs)("div",{className:"form-floating custom-form mt-2",children:[Object(o.jsx)("input",Object(d.a)(Object(d.a)({},t),{},{className:"col-12 form-control",maxLength:30,id:r,required:c,defaultValue:s})),Object(o.jsx)("label",{htmlFor:r,children:n})," "]})},P=function(){var e=l("email","Email"),t=l("password","Password"),n=y(),r=n.login,a=n.user;return Object(o.jsx)(i,{body:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)(F,{inputField:e,label:"Email",id:"email"}),Object(o.jsx)(F,{inputField:t,label:"Password",id:"password"})]}),Object(o.jsxs)("div",{className:"card-footer mt-3",children:[Object(o.jsx)("button",{type:"submit",className:"btn btn-primary main-button",children:"Log in"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"text-button mt-3",children:Object(o.jsx)("a",{href:"/register",style:{color:"white"},children:"Register a new account here"})})]})]})},onSubmit:function(n){n.preventDefault();var c={email:e.value,password:t.value};r(c),a&&(console.log("succsessful login",a),e.onSubmit(),t.onSubmit(),S.a)}})},C=function(){var e=l("email","Email"),t=l("password","Password"),n=l("text","Name"),r=y(),a=r.register,c=r.user;return Object(o.jsx)(i,{body:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Register"}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)(F,{inputField:e,label:"Email",id:"email"}),Object(o.jsx)(F,{inputField:n,label:"Name",id:"name"}),Object(o.jsx)(F,{inputField:t,label:"Password",id:"password"})]}),Object(o.jsxs)("div",{className:"card-footer mt-3",children:[Object(o.jsx)("button",{type:"submit",className:"btn btn-primary main-button",children:"Register"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"text-button mt-3",children:Object(o.jsx)("a",{href:"/login",style:{color:"white"},children:"Already have an account? Log in here"})})]})]})},onSubmit:function(r){r.preventDefault();var s={email:e.value,password:t.value,name:n.value};a(s),console.log(c),c&&(console.log("succsessful register",c),e.onSubmit(),t.onSubmit(),n.onSubmit(),S.a)}})},D=n(9),E=n(97),L=n(96),T=function(e){return null!==e?"/user/".concat(e.id):""},U=function(){var e=y(),t=e.user,n=e.logout;return Object(r.useEffect)((function(){}),[t]),Object(o.jsx)("div",{children:Object(o.jsxs)(E.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"mt-3",children:[Object(o.jsx)(E.a.Brand,{href:"/",children:Object(o.jsx)("h1",{children:"PostApp"})}),Object(o.jsx)(E.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(o.jsxs)(E.a.Collapse,{id:"responsive-navbar-nav",children:[Object(o.jsx)(L.a,{className:"mr-auto"}),Object(o.jsx)(L.a,{className:"ms-auto",children:t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(L.a.Link,{href:"/",children:"Home"}),Object(o.jsx)(L.a.Link,{href:T(t),children:t.name}),Object(o.jsx)(L.a.Link,{href:"/account",children:"My Account"}),Object(o.jsx)(L.a.Link,{href:"/login",onClick:n,children:"Log out"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(L.a.Link,{href:"/login",children:"Log in"}),Object(o.jsx)(L.a.Link,{href:"/register",children:"Register"})]})})]})]})})},B=function(e){return e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}))},M={posts:[],addPost:function(){},deletePost:function(){},updatePost:function(){},upvotePost:function(){},downvotePost:function(){}},q=a.a.createContext(M);function A(){return Object(r.useContext)(q)}var I=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],s=a[1],i="/api/posts",l=x(i),d=y().user,j=v().newNotification;Object(r.useEffect)((function(){var e,t=function(){var n=Object(m.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=15;break}return n.prev=1,console.log("Fetching posts..."),n.next=5,f.a.get(i,{headers:{Authorization:"bearer ".concat(d.token)}});case 5:return n.next=7,n.sent.data;case 7:r=n.sent,s(B(r)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("Error fetching posts",n.t0.response.data),j("An error occured while fetching posts");case 15:e=setTimeout(t,1e4);case 16:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}();return t(),function(){e&&clearTimeout(e)}}),[d]);var p=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.create(t);case 3:n=e.sent,r=c.concat(n),s(B(r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error adding new post",e.t0.response.data),j(e.t0.response.data.errorMsg);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.remove(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Removed from server"),j(e.t0.response.data.errorMsg);case 9:return e.prev=9,s(c.filter((function(e){return e.id!==t}))),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,5,9,12]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.update(t.id,t);case 3:n=e.sent,r=c.map((function(e){return e.id===t.id?n:e})),s(B(r)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Removed from server"),s(c.filter((function(e){return e.id!==t.id}))),j(e.t0.response.data.errorMsg);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.update(t.id,t,"/api/posts/upvote");case 3:n=e.sent,s(c.map((function(e){return e.id===t.id?n:e}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Removed from server"),j(e.t0.response.data.errorMsg);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.update(t.id,t,"/api/posts/downvote");case 3:n=e.sent,s(c.map((function(e){return e.id===t.id?n:e}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Removed from server"),j(e.t0.response.data.errorMsg);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(q.Provider,{value:{posts:c,addPost:p,deletePost:h,updatePost:O,upvotePost:g,downvotePost:w},children:t})},R=n(95),H=function(e){var t=e.handleSubmit,n=e.modalBtn,a=e.modalBody,c=e.modalTitle,s=e.modalConfirm,i=Object(r.useState)(!1),l=Object(u.a)(i,2),j=l[0],b=l[1],m=function(){return b(!1)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",Object(d.a)(Object(d.a)({},n),{},{onClick:function(){return b(!0)},children:n.text})),Object(o.jsxs)(R.a,{show:j,onHide:m,animation:!0,dialogClassName:"custom-modal",children:[Object(o.jsx)(R.a.Header,{children:Object(o.jsx)(R.a.Title,{className:"text-warning",children:c})}),Object(o.jsxs)("form",{onSubmit:function(e){t(e),m()},children:[Object(o.jsx)(R.a.Body,{children:a}),Object(o.jsxs)(R.a.Footer,{children:[Object(o.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:m,children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",children:s})]})]})]})]})},Y=function(e,t,n){return{className:e,text:t,title:n}},J=function(){var e=l("text","Title..."),t=l("text","Enter post..."),n=A().addPost,r=y().user;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(H,{handleSubmit:function(a){if(a.preventDefault(),r){var c={title:e.value,content:t.value,author:null===r?"":r.name,date:(new Date).toISOString(),upvotes:0,user:r.id};n(c),e.onSubmit(),t.onSubmit()}},modalBtn:Y("btn main-button float-end","New Post","Create a new post"),modalBody:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"row mx-auto",children:Object(o.jsx)("input",Object(d.a)(Object(d.a)({},e),{},{className:"col-12",required:!0,maxLength:30}))}),Object(o.jsx)("div",{className:"row mx-auto",children:Object(o.jsx)("textarea",Object(d.a)(Object(d.a)({},t),{},{className:"col-12",rows:6,maxLength:500,required:!0}))})]}),modalTitle:"Create new post",modalConfirm:"Submit"})})},V=function(e){var t=e.post,n=A().deletePost;return Object(o.jsx)(H,{handleSubmit:function(e){e.preventDefault(),n(t.id)},modalBtn:Y("text-button","Delete","Delete post"),modalBody:Object(o.jsx)("p",{className:"text-light",children:"Are you sure you want to delete '".concat(t.title,"'? This cannot be undone.")}),modalTitle:"Delete post",modalConfirm:"Delete"})},z=function(e){var t=e.post,n=l("text","Title...",t.title),r=l("text","Enter post...",t.content),a=A().updatePost;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(H,{handleSubmit:function(e){e.preventDefault();var c=Object(d.a)(Object(d.a)({},t),{},{title:n.value,content:r.value,date:(new Date).toISOString()});a(c)},modalBtn:Y("text-button","Edit","Edit post"),modalBody:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"row mx-auto",children:Object(o.jsx)("input",Object(d.a)(Object(d.a)({},n),{},{className:"col-12",required:!0,maxLength:30}))}),Object(o.jsx)("div",{className:"row mx-auto",children:Object(o.jsx)("textarea",Object(d.a)(Object(d.a)({},r),{},{className:"col-12",rows:6,maxLength:500,required:!0}))})]}),modalTitle:"Edit post",modalConfirm:"Update",post:t})})},G=n(59),K=n.n(G),Q=function(e){var t=K()(e),n=new Date,r=new Date(e);return n.getTime()-r.getTime()<864e5?t.format("HH:mm"):t.format("DD.MM.YYYY HH:mm")},W=n(44),X=n(45),Z=function(e){var t=A(),n=t.upvotePost,r=t.downvotePost,a=y().user;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"card mt-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h3",{className:"card-title m-0 text-warning",children:e.title}),Object(o.jsxs)("h6",{className:"card-subtitle",children:["by"," ",Object(o.jsx)("a",{href:"/user/".concat(e.user.id),style:{color:"#E9E9D1",textDecoration:"none"},children:e.user.name})," ","| ",Q(e.date)]}),Object(o.jsx)("p",{className:"card-text",style:{whiteSpace:"pre-wrap"},children:e.content}),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)("button",{className:"upvote-button btn d-inline-block",onClick:function(){return n(e)},title:"Upvote post",children:Object(o.jsx)(W.a,{icon:X.b})}),Object(o.jsx)("button",{className:"downvote-button btn d-inline-block",onClick:function(){return r(e)},title:"Downvote post",children:Object(o.jsx)(W.a,{icon:X.a})}),Object(o.jsx)("h5",{className:"m-1 d-inline-block",children:Object(o.jsx)("span",{className:"badge bg-dark ",children:e.upvotes})})]}),Object(o.jsx)("div",{className:"card-footer",children:!!a&&a.id===e.user&&Object(o.jsxs)("div",{children:[Object(o.jsx)(z,{post:e}),"\xa0",Object(o.jsx)(V,{post:e})]})})]})})})},$=function(e){var t=e.posts,n=e.title,r=e.createNewButton,a=void 0===r||r;return Object(o.jsx)("div",{className:"d-flex justify-content-center pb-4",children:Object(o.jsxs)("ul",{className:"post-list col-12 col-sm-12 col-md-10 col-lg-7 p-0",children:[Object(o.jsxs)("div",{className:"row ms-auto me-auto",children:[Object(o.jsx)("h2",{className:"col-8 p-0 mt-4 mb-1",children:n}),a&&Object(o.jsx)("div",{className:"col-4 p-0 mt-4 mb-1",children:Object(o.jsx)(J,{})})]}),t&&t.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(Z,Object(d.a)({},e))},e.id)}))]})})},_=function(){var e=A().posts;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)($,{posts:e,title:"Posts"})})},ee=function(){var e=v().notification;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("footer",{className:"fixed-bottom m-2",children:e&&Object(o.jsx)("div",{className:"alert alert-primary fade show custom-alert col-xs-12 col-sm-5 col-md-4 col-lg-3 col-xl-3",role:"alert",children:e})})})},te=function(e){var t=e.label,n=e.id,r=e.requiredField,a=void 0===r||r,c=e.defaultValue,s=e.value,i=e.inputField,u=e.onChange;return Object(o.jsxs)("div",{className:"form-floating custom-form mt-2",children:[Object(o.jsx)("input",Object(d.a)(Object(d.a)({},i),{},{className:"col-12 form-control",maxLength:30,id:n,required:a,defaultValue:c,value:s,onChange:u})),Object(o.jsx)("label",{htmlFor:n,children:t})," "]})},ne=function(){var e=y(),t=e.user,n=e.updateUserDetails,a=l("password","Password"),c=l("password","Password"),s=Object(r.useState)(""),d=Object(u.a)(s,2),j=d[0],b=d[1],m=Object(r.useState)(""),p=Object(u.a)(m,2),f=p[0],x=p[1];Object(r.useEffect)((function(){console.log("User MyAccount",t),null===t&&D.a,D.a,console.log("asdasdda",t),t&&(b(t.email),x(t.name))}),[t]);return Object(o.jsxs)(o.Fragment,{children:[null!==t?Object(o.jsx)(i,{body:function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"My Account"}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)(te,{label:"Email",id:"email",requiredField:!1,value:j,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)(te,{label:"Name",id:"name",requiredField:!1,value:f,onChange:function(e){return x(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Change password:"}),Object(o.jsx)(F,{inputField:a,label:"Current password",id:"oldPassword",requiredField:!1}),Object(o.jsx)(F,{inputField:c,label:"New password",id:"newPassword",requiredField:!1})]}),Object(o.jsxs)("div",{className:"card-footer mt-3",children:[Object(o.jsx)("button",{type:"submit",className:"btn btn-primary main-button",children:"Update details"}),Object(o.jsx)("br",{})]})]})})},onSubmit:function(e){e.preventDefault(),console.log("name",f,"email",j);var t={email:j,oldPassword:a.value,password:c.value,name:f};n(t),a.onSubmit(),c.onSubmit()}}):Object(o.jsx)(P,{}),")"]})},re=function(e){var t=e.userId,n=y().user,a=Object(r.useState)([]),c=Object(u.a)(a,2),s=c[0],i=c[1],l=x("/api/users/posts");Object(r.useEffect)((function(){n&&function(){var e=Object(m.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(null===n||void 0===n?void 0:n.token),e.next=3,l.get(t);case 3:r=e.sent,i(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n]);return Object(o.jsx)(o.Fragment,{children:null!==n?Object(o.jsx)($,{posts:s,title:n?"Posts | name":"Your posts",createNewButton:!1}):Object(o.jsx)(P,{})})},ae=function(){var e=y().user,t=Object(D.g)("/user/:id");return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(U,{}),Object(o.jsxs)(D.d,{children:[Object(o.jsx)(D.b,{path:"/user/:id",children:Object(o.jsx)(re,{userId:null===t||void 0===t?void 0:t.params.id})}),Object(o.jsx)(D.b,{exact:!0,path:"/",children:null===e?Object(o.jsx)(D.a,{to:"/login"}):Object(o.jsx)(_,{})}),Object(o.jsx)(D.b,{path:"/register",children:null===e?Object(o.jsx)(C,{}):Object(o.jsx)(D.a,{to:"/"})}),Object(o.jsx)(D.b,{path:"/login",children:null===e?Object(o.jsx)(P,{}):Object(o.jsx)(D.a,{to:"/"})}),Object(o.jsx)(D.b,{path:"/account",children:Object(o.jsx)(ne,{})})]}),Object(o.jsx)(ee,{})]})},ce=r.createContext(null),se=function(e){var t=e.children;return Object(o.jsx)(ce.Provider,{value:null,children:Object(o.jsx)(g,{children:Object(o.jsx)(k,{children:Object(o.jsx)(I,{children:t})})})})},oe=n(15),ie=(n(92),Object(oe.a)());s.a.render(Object(o.jsx)(se,{children:Object(o.jsx)(D.c,{history:ie,children:Object(o.jsx)(ae,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.82a1eea7.chunk.js.map